{"ast":null,"code":"import * as React from 'react';\nexport const CompoundComponentContext = /*#__PURE__*/React.createContext(null);\nCompoundComponentContext.displayName = 'CompoundComponentContext';\n/**\n * Provides a way for a component to know about its children.\n *\n * Child components register themselves with the `useCompoundItem` hook, passing in arbitrary metadata to the parent.\n *\n * This is a more powerful altervantive to `children` traversal, as child components don't have to be placed\n * directly inside the parent component. They can be anywhere in the tree (and even rendered by other components).\n *\n * The downside is that this doesn't work with SSR as it relies on the useEffect hook.\n *\n * @ignore - internal hook.\n */\n\nexport function useCompoundParent() {\n  const [subitems, setSubitems] = React.useState(new Map());\n  const subitemKeys = React.useRef(new Set());\n  const deregisterItem = React.useCallback(function deregisterItem(id) {\n    subitemKeys.current.delete(id);\n    setSubitems(previousState => {\n      const newState = new Map(previousState);\n      newState.delete(id);\n      return newState;\n    });\n  }, []);\n  const registerItem = React.useCallback(function registerItem(id, item, missingKeyGenerator) {\n    let providedOrGeneratedId;\n\n    if (id === undefined) {\n      if (missingKeyGenerator === undefined) {\n        throw new Error(\"The compound component's child doesn't have a key. You need to provide a missingKeyGenerator to generate it.\");\n      }\n\n      providedOrGeneratedId = missingKeyGenerator(subitemKeys.current);\n    } else {\n      providedOrGeneratedId = id;\n    }\n\n    subitemKeys.current.add(providedOrGeneratedId);\n    setSubitems(previousState => {\n      const newState = new Map(previousState);\n      newState.set(providedOrGeneratedId, item);\n      return newState;\n    });\n    return {\n      id: providedOrGeneratedId,\n      deregister: () => deregisterItem(providedOrGeneratedId)\n    };\n  }, [deregisterItem]);\n  const getItemIndex = React.useCallback(function getItemIndex(id) {\n    return Array.from(subitems.keys()).indexOf(id);\n  }, [subitems]);\n  return {\n    contextValue: {\n      getItemIndex,\n      registerItem,\n      totalSubitemCount: subitems.size\n    },\n    subitems\n  };\n}","map":{"version":3,"names":["React","CompoundComponentContext","createContext","displayName","useCompoundParent","subitems","setSubitems","useState","Map","subitemKeys","useRef","Set","deregisterItem","useCallback","id","current","delete","previousState","newState","registerItem","item","missingKeyGenerator","providedOrGeneratedId","undefined","Error","add","set","deregister","getItemIndex","Array","from","keys","indexOf","contextValue","totalSubitemCount","size"],"sources":["C:/Users/TranAnhHoan/Desktop/scrum-base/client/node_modules/@mui/base/utils/useCompound.js"],"sourcesContent":["import * as React from 'react';\nexport const CompoundComponentContext = /*#__PURE__*/React.createContext(null);\nCompoundComponentContext.displayName = 'CompoundComponentContext';\n/**\n * Provides a way for a component to know about its children.\n *\n * Child components register themselves with the `useCompoundItem` hook, passing in arbitrary metadata to the parent.\n *\n * This is a more powerful altervantive to `children` traversal, as child components don't have to be placed\n * directly inside the parent component. They can be anywhere in the tree (and even rendered by other components).\n *\n * The downside is that this doesn't work with SSR as it relies on the useEffect hook.\n *\n * @ignore - internal hook.\n */\nexport function useCompoundParent() {\n  const [subitems, setSubitems] = React.useState(new Map());\n  const subitemKeys = React.useRef(new Set());\n  const deregisterItem = React.useCallback(function deregisterItem(id) {\n    subitemKeys.current.delete(id);\n    setSubitems(previousState => {\n      const newState = new Map(previousState);\n      newState.delete(id);\n      return newState;\n    });\n  }, []);\n  const registerItem = React.useCallback(function registerItem(id, item, missingKeyGenerator) {\n    let providedOrGeneratedId;\n    if (id === undefined) {\n      if (missingKeyGenerator === undefined) {\n        throw new Error(\"The compound component's child doesn't have a key. You need to provide a missingKeyGenerator to generate it.\");\n      }\n      providedOrGeneratedId = missingKeyGenerator(subitemKeys.current);\n    } else {\n      providedOrGeneratedId = id;\n    }\n    subitemKeys.current.add(providedOrGeneratedId);\n    setSubitems(previousState => {\n      const newState = new Map(previousState);\n      newState.set(providedOrGeneratedId, item);\n      return newState;\n    });\n    return {\n      id: providedOrGeneratedId,\n      deregister: () => deregisterItem(providedOrGeneratedId)\n    };\n  }, [deregisterItem]);\n  const getItemIndex = React.useCallback(function getItemIndex(id) {\n    return Array.from(subitems.keys()).indexOf(id);\n  }, [subitems]);\n  return {\n    contextValue: {\n      getItemIndex,\n      registerItem,\n      totalSubitemCount: subitems.size\n    },\n    subitems\n  };\n}"],"mappings":"AAAA,OAAO,KAAKA,KAAZ,MAAuB,OAAvB;AACA,OAAO,MAAMC,wBAAwB,GAAG,aAAaD,KAAK,CAACE,aAAN,CAAoB,IAApB,CAA9C;AACPD,wBAAwB,CAACE,WAAzB,GAAuC,0BAAvC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AACA,OAAO,SAASC,iBAAT,GAA6B;EAClC,MAAM,CAACC,QAAD,EAAWC,WAAX,IAA0BN,KAAK,CAACO,QAAN,CAAe,IAAIC,GAAJ,EAAf,CAAhC;EACA,MAAMC,WAAW,GAAGT,KAAK,CAACU,MAAN,CAAa,IAAIC,GAAJ,EAAb,CAApB;EACA,MAAMC,cAAc,GAAGZ,KAAK,CAACa,WAAN,CAAkB,SAASD,cAAT,CAAwBE,EAAxB,EAA4B;IACnEL,WAAW,CAACM,OAAZ,CAAoBC,MAApB,CAA2BF,EAA3B;IACAR,WAAW,CAACW,aAAa,IAAI;MAC3B,MAAMC,QAAQ,GAAG,IAAIV,GAAJ,CAAQS,aAAR,CAAjB;MACAC,QAAQ,CAACF,MAAT,CAAgBF,EAAhB;MACA,OAAOI,QAAP;IACD,CAJU,CAAX;EAKD,CAPsB,EAOpB,EAPoB,CAAvB;EAQA,MAAMC,YAAY,GAAGnB,KAAK,CAACa,WAAN,CAAkB,SAASM,YAAT,CAAsBL,EAAtB,EAA0BM,IAA1B,EAAgCC,mBAAhC,EAAqD;IAC1F,IAAIC,qBAAJ;;IACA,IAAIR,EAAE,KAAKS,SAAX,EAAsB;MACpB,IAAIF,mBAAmB,KAAKE,SAA5B,EAAuC;QACrC,MAAM,IAAIC,KAAJ,CAAU,8GAAV,CAAN;MACD;;MACDF,qBAAqB,GAAGD,mBAAmB,CAACZ,WAAW,CAACM,OAAb,CAA3C;IACD,CALD,MAKO;MACLO,qBAAqB,GAAGR,EAAxB;IACD;;IACDL,WAAW,CAACM,OAAZ,CAAoBU,GAApB,CAAwBH,qBAAxB;IACAhB,WAAW,CAACW,aAAa,IAAI;MAC3B,MAAMC,QAAQ,GAAG,IAAIV,GAAJ,CAAQS,aAAR,CAAjB;MACAC,QAAQ,CAACQ,GAAT,CAAaJ,qBAAb,EAAoCF,IAApC;MACA,OAAOF,QAAP;IACD,CAJU,CAAX;IAKA,OAAO;MACLJ,EAAE,EAAEQ,qBADC;MAELK,UAAU,EAAE,MAAMf,cAAc,CAACU,qBAAD;IAF3B,CAAP;EAID,CApBoB,EAoBlB,CAACV,cAAD,CApBkB,CAArB;EAqBA,MAAMgB,YAAY,GAAG5B,KAAK,CAACa,WAAN,CAAkB,SAASe,YAAT,CAAsBd,EAAtB,EAA0B;IAC/D,OAAOe,KAAK,CAACC,IAAN,CAAWzB,QAAQ,CAAC0B,IAAT,EAAX,EAA4BC,OAA5B,CAAoClB,EAApC,CAAP;EACD,CAFoB,EAElB,CAACT,QAAD,CAFkB,CAArB;EAGA,OAAO;IACL4B,YAAY,EAAE;MACZL,YADY;MAEZT,YAFY;MAGZe,iBAAiB,EAAE7B,QAAQ,CAAC8B;IAHhB,CADT;IAML9B;EANK,CAAP;AAQD"},"metadata":{},"sourceType":"module"}